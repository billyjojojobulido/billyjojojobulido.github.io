

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/dog_icon.jpg">
  <link rel="icon" href="/img/dog_icon.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Baocheng Wang">
  <meta name="keywords" content="">
  
    <meta name="description" content="Cocos Maze: An Open Source Web Maze Game">
<meta property="og:type" content="article">
<meta property="og:title" content="An Open Sourced Cocos Creator Maze Gam">
<meta property="og:url" content="https://billyjojojobulido.github.io/2024/09/28/Maze/index.html">
<meta property="og:site_name" content="Baocheng Wang">
<meta property="og:description" content="Cocos Maze: An Open Source Web Maze Game">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-09-20T03:46:23.000Z">
<meta property="article:modified_time" content="2024-09-20T04:44:56.262Z">
<meta property="article:author" content="Baocheng Wang">
<meta property="article:tag" content="Tech">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>Cocos Maze: An Open Source Web Maze Game - Baocheng Wang</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库,不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"billyjojojobulido.github.io","root":"/","version":"1.9.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 7.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Baocheng Wang</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="/notes/">
                <i class="iconfont icon-note"></i>
                <span>Notes</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/projects/">
                <i class="iconfont icon-archive-fill"></i>
                <span>Projects</span>
              </a>
            </li>

 

            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/stars.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Cocos Maze: An Open Source Web Maze Game"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-09-28 14:48" pubdate>
          September 28, 2024
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          1.8k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
          25 mins
        
      </span>
    
  </div>

      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Cocos Maze: An Open Source Web Maze Game</h1>
            
            
<div class="markdown-body">
                
  <p>Cocos Maze is part of the project I developed during my probation as a full-time Frontend Developer in Growild Technology Inc., and then decided to open source it for future reference.</p>
  
  
  <h2 id="Project-Introduction"><a href="#Project-Introduction" class="headerlink" title="Project Introduction"></a>Project Introduction</h2>
  
<p>
  The maze generation is inspired by the ideas from 
  <a href="https://github.com/liuyubobobo/Play-with-Algorithm-Visualization/tree/master/06-Maze-Generalization">liuyubobobo/Play-with-Algorithm-Visualization</a> and 
  <a href="https://github.com/Imymirror/maze-generalization">Imymirror/maze-generalization</a>. 
  It uses the BFS (Breadth-First Search) algorithm to non-recursively generate a random maze map.
</p>


<h2 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Open Source Project Link</h2>

<p style="text-align: center;">
  <strong>GitHub: </strong>
  <a href="https://github.com/billyjojojobulido/Cocos-Maze">billyjojojobulido/Cocos-Maze</a>
</p>


  <h2 id="Env"><a href="#Env" class="headerlink" title="Env"></a>Development Environment</h2>
  <ul>
    <li>Operating system: MacOS</li>
    <li>Game engine: Cocos Creator 2.4.7</li>
    <li>Programming language: TypeScript</li>
  </ul>
  
  <h2 id="Key-Features"><a href="#Key-Features" class="headerlink" title="Key Features"></a>Key Features</h2>


  <h3 id="Maze-Generation"><a href="#Maze-Generation" class="headerlink" title="Maze-Generation"></a>Feature 1: Maze Generation and Display</h3>
<div style="text-align: center;">
  <img src="maze-display.png" width="50%">
</div>

  <h3 id="Control"><a href="#Control" class="headerlink" title="Control"></a>Feature 2: Character Movement Control</h3>
<div style="text-align: center;">
  <img src="maze-play-demo.gif" width="60%">
</div>

  <h3 id="Over"><a href="#Over" class="headerlink" title="Over"></a>Feature 3: Level Tracking and Game Over</h3>
<ul>
  <li>If the character reaches the finish point before the countdown ends, the maze will be regenerated, and the level will be reset after updating the completion count.</li>
  <li>When the countdown ends and the character has not triggered the finish point's collision callback, the game will result in a Game Over.</li>
</ul>
<div style="text-align: center;">
  <img src="maze-game-over.png" width="60%">
</div>


<h2 id="Challenge"> <a href="#Challenge" class="headerlink" title="Challenge"></a>Development Challenges</h2>

<h3 id="Step"><a href="#Step" class="headerlink" title="Step"></a>Challenge 1: Character movement step size</h3>
<p>You can use cc.Tween to ensure the character moves a fixed step size each time. Since the character and the path have equal widths, 
  calculating the x and y values of the node based on time in update() might cause the character to not correctly enter the path 
  (even a 1px difference could block the character by the wall), increasing the game difficulty.</p>


<h3 id="Random"><a href="#Random" class="headerlink" title="Random"></a>Challenge 2: Random maze</h3>
<p>Using a Queue to generate the maze should produce the same maze every time. 
  You can refer to Imymirror's implementation to introduce randomness when popping the queue, 
  avoiding the repetition of generated mazes.</p>


<h3 id="Bricks"><a href="#Bricks" class="headerlink" title="Bricks"></a>Challenge 3: Reusing bricks</h3>
<p>
  If you want to keep track of the number of completions, you can't simply reload the scene to start a new game. 
  Therefore, the entire maze must be manually rebuilt. 
  You can use NodePool to reduce the need to repeatedly instantiate & destroy bricks.
</p>

  <h2 id="Disclaimer"> <a href="#Disclaimer" class="headerlink" title="Disclaimer"></a>Disclaimer</h2>
  <p>Sharing my work that based on an open-source project without implanting any company-owned resources & technologies does not violate the Non-Disclosure Agreement I signed with Growild Technology Inc.</p>

  </ul>


  <h2 id="Related"><a href="#Related" class="headerlink" title="Related"></a>Related</h2><ul>
  <li><a target="_blank" rel="noopener" href="https://docs.cocos.com/creator/2.4/manual/en/getting-started/">Cocos Creator User Manual</a></li>
  <li><a target="_blank" rel="noopener" href="https://docs.cocos.com/creator/2.4/manual/en/getting-started/quick-start.html">Cocos Creator: Quick Start: Make your first game</a></li>
  <li><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/">TypeScript Docs</a></li>
  <li><a target="_blank" rel="noopener" href="https://github.com/liuyubobobo/Play-with-Algorithm-Visualization/tree/master/06-Maze-Generalization">GitHub: liuyubobobo/Play-with-Algorithm-Visualization</a></li>
  <li><a target="_blank" rel="noopener" href="https://github.com/Imymirror/maze-generalization">GitHub: lmymirror/maze-generalization</a></li>
  <li><a target="_blank" rel="noopener" href="https://github.com/billyjojojobulido/Cocos-Maze">GitHub: billyjojojobulido/Cocos-Maze</a></li>
  </ul>

</div>
            
<hr/>

<div class="post-metas my-3">
  
    <div class="post-meta">

      <i class="iconfont icon-category"></i>
      <a href="/categories/" class="category-chain-item">Projects</a>

      <i class="iconfont icon-tags"></i>
      
      <a href="/tags/General/Tech/" class="print-no-link">#Tech</a>
      <a href="/tags/Technical/Java/" class="print-no-link">#JavaScript</a>
      <a href="/tags/Technical/MySQL/" class="print-no-link">#Cocos Creator</a>
      
    </div>
  
</div>



  <div class="license-box my-3">
    <div class="license-title">
      <div>Cocos Maze: An Open Source Web Maze Game</div>
      <div>https://billyjojojobulidogithub.io/2024/09/28/Maze/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>Baocheng Wang</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>September 28, 2024</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-by"></i>
                    <i class="iconfont icon-nc"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>

                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <!-- <a href="/2024/03/15/PTE/index.html" title="PTE">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Baocheng's 2024 PTE Mark Release</span>
                        <span class="visible-mobile">Previous</span>
                      </a> -->
                    
                  </article>

                  <article class="post-next col-6">
                      <a href="/2024/09/20/Cocos/index.html" title="Cocos">
                        <span class="hidden-mobile">Cocos Web Game: Grimer's Adventure (alpha)</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>

    <div class="side-col d-none d-lg-block col-lg-2">
          
      <aside class="sidebar" style="margin-left: -1rem">
        <div id="toc">
          <p class="toc-header">
            <i class="iconfont icon-list"></i>
            <span>Table of Contents</span>
          </p>
          <div class="toc-body" id="toc-body"></div>
        </div>
      </aside>
    </div>
  </div>
</div>

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>

      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  

</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项,将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
